<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Crypto – Investissement – Conseiller · Janssen Trust</title>
  <meta name="description" content="Analyses, conseils et prédictions crypto. Janssen Trust · WealthElite NY / Dubai Division.">
  <link rel="icon" href="assets/papillon_pict.webp">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={theme:{extend:{colors:{brand:{600:'#0c6cf3',500:'#2f87ff',400:'#5ea5ff'},gold:{500:'#d4b559'},dark:'#0b1220'},boxShadow:{xlsoft:'0 25px 50px -12px rgba(0,0,0,.35)'}}}};
    (function(){const w=console.warn;console.warn=function(m,...a){if(typeof m==='string'&&m.includes('cdn.tailwindcss'))return;w(m,...a)}})();
  </script>
  <style>html{scroll-behavior:smooth}</style>
</head>
<body class="bg-dark text-white pb-16 selection:bg-brand-500 selection:text-white">
  <div class="bg-black/30 border-b border-white/10 text-center text-sm py-2">WealthElite — NY / Dubai · Janssen Trust</div>

  <header class="sticky top-0 z-40 bg-dark/80 backdrop-blur border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3 font-semibold">
        <img src="assets/papillon_pict.webp" class="h-7 w-auto" alt="Papillon"/><span>Janssen Trust</span>
        <span class="hidden sm:inline text-white/50">· WealthElite NY / Dubai</span>
      </a>
      <nav class="hidden md:flex items-center gap-8 text-sm">
        <a href="crypto.html" class="text-brand-400">Crypto</a>
        <a href="actualites.html" class="hover:text-brand-400">Actualités</a>
        <a href="yachts.html" class="hover:text-brand-400">Super Yachts</a>
        <a href="index.html#contact" class="hover:text-brand-400">Contact</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="relative overflow-hidden">
    <div class="absolute -top-32 -right-32 h-80 w-80 bg-brand-600 rounded-full blur-3xl opacity-30"></div>
    <div class="absolute -bottom-32 -left-32 h-96 w-96 bg-gold-500 rounded-full blur-3xl opacity-20"></div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
      <h1 class="text-3xl md:text-5xl font-bold">Crypto — Investissement — Conseiller</h1>
      <p class="mt-4 text-white/70 max-w-3xl">Stratégie, exécution et suivi du marché crypto. Le prix BTC est capturé lors de la publication.</p>
    </div>
  </section>

  <!-- FEED -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-xl font-semibold">Dernières analyses</h2>
    <section id="feed-crypto" class="mt-6 grid md:grid-cols-2 gap-6"></section>
  </main>

  <footer class="border-t border-white/10 mt-16 py-8 text-xs text-white/60 text-center">
    © <span id="y"></span> WealthElite — NY / Dubai
  </footer>

  <!-- TICKER -->
  <div id="tv-ticker" class="fixed inset-x-0 bottom-0 z-50">
    <div class="backdrop-blur bg-black/40 border-t border-white/10">
      <div class="tradingview-widget-container" style="height:46px;">
        <div class="tradingview-widget-container__widget"></div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('y').textContent=new Date().getFullYear();

    const SUPABASE_URL="https://ywpshnlnbpyfplapzzac.supabase.co";
    const SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl3cHNobmxuYnB5ZnBsYXB6emFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyODg1NTYsImV4cCI6MjA3Mjg2NDU1Nn0.J-0ATeb3dxkQ6m4E0KuDLOHD072akgielLKQb-m22B8";
    const esc=s=>(s??"").toString().replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));

    async function loadPosts(){
      const url=`${SUPABASE_URL}/rest/v1/posts?select=*&category=eq.crypto&order=created_at.desc`;
      const res=await fetch(url,{headers:{apikey:SUPABASE_ANON_KEY,Authorization:`Bearer ${SUPABASE_ANON_KEY}`}});
      const posts=await res.json();
      const root=document.getElementById('feed-crypto');
      if(!posts.length){root.innerHTML=`<div class="text-white/60">Aucune analyse publiée.</div>`;return;}
      root.innerHTML=posts.map(p=>`
        <article class="bg-white/5 border border-white/10 rounded-2xl p-6">
          <h3 class="font-semibold text-lg">${esc(p.title||'Analyse')}</h3>
          ${p.link_url?`<p class="mt-2 text-sm"><a class="text-blue-300 underline break-all" href="${esc(p.link_url)}" target="_blank">Lien</a></p>`:''}
          ${p.media_url?`<img src="${esc(p.media_url)}" alt="" class="mt-3 rounded-xl w-full h-auto"/>`:''}
          ${p.content?`<p class="mt-3 text-white/80 text-sm whitespace-pre-wrap">${esc(p.content)}</p>`:''}
          ${p.btc_price?`<p class="mt-3 text-xs text-white/50">BTC lors du post : ${Number(p.btc_price).toFixed(2)} €</p>`:''}
          <div class="mt-4 flex items-center justify-between text-xs text-white/50">
            <span>${new Date(p.created_at).toLocaleString('fr-BE')}</span><span>${esc(p.author||'—')}</span>
          </div>
        </article>`).join('');
    }
    document.addEventListener('DOMContentLoaded',loadPosts);

    // TradingView ticker
    (function(){
      const c=document.querySelector('#tv-ticker .tradingview-widget-container');
      const cfg={symbols:[
        {proName:"FOREXCOM:XAUUSD",title:"Gold"},
        {proName:"BITSTAMP:BTCUSD",title:"BTC"},
        {proName:"COINBASE:ETHUSD",title:"ETH"},
        {proName:"OANDA:SPX500USD",title:"S&P 500"},
        {proName:"FX_IDC:EURUSD",title:"EUR/USD"}],
        showSymbolLogo:true,isTransparent:true,displayMode:"adaptive",colorTheme:"dark",locale:"fr"};
      const s=document.createElement('script');s.async=true;
      s.src='https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js';
      s.innerHTML=JSON.stringify(cfg);c.appendChild(s);
    })();
  </script>
</body>
</html>